# 6월 17일 재택근무 보고서

## ExtendScript Debugger 마이그레이션 진행

### launch.json 구성요소 마이그레이션

V1 버전에서 V2 버전으로 마이그레이션을 마저 진행했습니다.

ExtendScript 디버거 V2에서 많은 부분이 변경되었습니다. 안전성, 성능, 유연성이 크게 향상되고 기본 VS Code 기능과 호환성이 개선되었습니다.

V1속성에서 ` enginName`,`debugLevel ` 등 다른 옵션들이 제거되고 남아있는 속성은 V2에서 아래와 같이 재구성 되었습니다.

| V1              | V2               |
| --------------- | ---------------- |
| targetSpecifier | hostAppSpecifier |
| program         | script           |
| excludes        | hiddenTypes      |

### 디버거 lanugh.json 파일 시작 구성 초기화

- 변경 전

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "extendscript-debug",
      "request": "launch",
      "name": "Run Current Script",
      "script": "${file}",
      "hiddenTypes": [
        "undefined",
        "builtin",
        // "Function",
        "prototype"
      ]
    }
  ]
}
```

- 변경 후 구성

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "extendscript-debug",
      "request": "attach",
      "name": "Attach to ExtendScript Engine"
    }
  ]
}
```

- 불필요한 옵션들이 제거되고 `Attach to ExtendScript Engine` 옵션 하나만으로 디버그 세션을 시작할 수 있습니다.

### 디버깅

- 기존에 호스트 어플리케이션을 선택하는 방식에서 엔진 자체로 호스트 어플리케이션을 찾는 방식으로 바뀐듯합니다.
- 호스트 응용 프로그램 내에서 실행중인 ExtendScript 엔진에 연결하고 디버깅을 시작하는 방식입니다.
- 사용해보면서 느낀점은 아직 활용하진 못하는데 `lanch.json`파일 구성을 잘 설정하면 CEP 프로젝트 전체를 디버깅 할 수 있을것 같습니다.
- 조사식 지원도 잘되어 있고 디버깅 중에 소스를 수정하며 브레이크 포인트에서 콘솔을 확인할 수 있어서 편했습니다.

![디버깅변경](./asset/디버깅변경.png)

- 매번 스크립트를 실행할 때마다 엔진을 연결해야 하는 불편함이 있는데 이건 설정하는 방법을 아직 못찾은것 같음 계속 서치중입니다.

## 배포 방식 조사

- 플러그인을 어떻게 배포할지 조사 및 탐구했습니다.
- 첫 번째로 어떻게 설치할 것인지를 조사했고 두번째는 어떻게 인증할 것인지 조사했습니다.

### 1. 설치파일 형식


- 윈도우에서 배포파일을 만들때 `NSIS` 스크립트를 사용합니다. 맥은 `pkg`파일을 생성해서 설치파일을 만들 수 있습니다.
- 이 방식으로 만들면 홈페이지를 통한 배포로 이루어집니다.
- 두 번째 방법은 `Adobe Exchange`를 이용한 `.zxp`파일 배포방식입니다.
- `.zxp` 파일은 CEP 코드사인을 통해 서명이 완료되면 생성됩니다.
- `Adobe Exchange`는 어도비 파트너쉽으로 어도비에게 파트너 신청을해 다양한 플러그인이나 뉴스레터 컨텐츠 등을 제공할 수 있는거로 보입니다.
- 하지만 매우 번거로워 보이고 시간소요가 많이 있을것으로 보입니다.
- 또한 유명한 플러그인들은 자체 홈페이지에서 광고 및 배포하는 방식으로 하고있는것 같습니다.
- 추후에는 플러그인 관리 소프트웨어를 만들어 거기서 다운로드 받는 방식으로 할 예정입니다.

### 2. 인증 방식

- 설치가 완료되면 어떻게 인증할 것인지를 찾아보았습니다.
- 서버에서 인증 토큰을 발급해 기한을 정하고 로그인합니다.
  - 중복 로그인 처리
  - 동일 IP 체크
  - 몇개의 기기를 로그인할 지
- 타임스탬프를 활용하는 방식